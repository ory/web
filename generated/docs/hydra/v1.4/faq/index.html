<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setDocumentTitle",document.domain+"/"+document.title]),_paq.push(["setCookieDomain","*.ory.sh"]),_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var e="//sqa-web.ory.sh/";_paq.push(["setTrackerUrl",e+"np.php"]),_paq.push(["setSiteId","2"]);var a=document,p=a.createElement("script"),t=a.getElementsByTagName("script")[0];p.type="text/javascript",p.async=!0,p.src=e+"js/np.min.js",t.parentNode.insertBefore(p,t)}()</script>
<link rel="search" type="application/opensearchdescription+xml" title="ORY Hydra" href="/hydra/docs/opensearch.xml"><title data-react-helmet="true">FAQ | ORY Hydra</title><meta data-react-helmet="true" property="og:url" content="https://www.ory.sh//hydra/docs/v1.4/faq"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="v1.4"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-v1.4"><meta data-react-helmet="true" property="og:title" content="FAQ | ORY Hydra"><meta data-react-helmet="true" name="description" content="This file keeps track of questions and discussions from Gitter and general help"><meta data-react-helmet="true" property="og:description" content="This file keeps track of questions and discussions from Gitter and general help"><link data-react-helmet="true" rel="shortcut icon" href="/hydra/docs/img/favico.png"><link data-react-helmet="true" rel="canonical" href="https://www.ory.sh//hydra/docs/v1.4/faq"><link data-react-helmet="true" rel="alternate" href="https://www.ory.sh//hydra/docs/v1.4/faq" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://www.ory.sh//hydra/docs/v1.4/faq" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/hydra/docs/assets/css/styles.dd92e85b.css">
<link rel="preload" href="/hydra/docs/assets/js/runtime~main.4f6714be.js" as="script">
<link rel="preload" href="/hydra/docs/assets/js/main.dd470314.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div id="route-identifier" data-route="/hydra/docs/v1.4/faq"><div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" role="banner"><div class="announcementBarContent_3EUC announcementBarCloseable_3myR">Sign up for <a href="https://ory.us10.list-manage.com/subscribe?u=ffb1a878e4ec6c0ed312a3480&id=f605a41b53&group[17097][8]=1">important security announcements</a> and if you like ORY Hydra give it a ‚≠êÔ∏è on <a target="_blank" rel="noopener noreferrer" href="https://github.com/ory/hydra">GitHub</a>!</div><button type="button" class="announcementBarClose_38nx clean-btn" aria-label="Close"><span aria-hidden="true">√ó</span></button></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.ory.sh/hydra" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/hydra/docs/img/logo-hydra.svg" alt="ORY Hydra" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/hydra/docs/img/logo-hydra.svg" alt="ORY Hydra" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a href="https://www.ory.sh/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ory/hydra/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://www.ory.sh/chat" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/ory/hydra" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/hydra/docs/v1.4/">v1.4</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/hydra/docs/next/faq">Next</a></li><li><a class="dropdown__link" href="/hydra/docs/faq">v1.10</a></li><li><a class="dropdown__link" href="/hydra/docs/v1.9/faq">v1.9</a></li><li><a class="dropdown__link" href="/hydra/docs/v1.8/faq">v1.8</a></li><li><a class="dropdown__link" href="/hydra/docs/v1.7/faq">v1.7</a></li><li><a class="dropdown__link" href="/hydra/docs/v1.6/faq">v1.6</a></li><li><a class="dropdown__link" href="/hydra/docs/v1.5/faq">v1.5</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/hydra/docs/v1.4/faq">v1.4</a></li><li><a class="dropdown__link" href="/hydra/docs/versions">All versions</a></li></ul></div><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">üåú</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">üåû</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://www.ory.sh/hydra" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/hydra/docs/img/logo-hydra.svg" alt="ORY Hydra" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/hydra/docs/img/logo-hydra.svg" alt="ORY Hydra" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/" target="_blank" rel="noopener noreferrer" class="menu__link">Home</a></li><li class="menu__list-item"><a href="https://github.com/ory/hydra/discussions" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://www.ory.sh/chat" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://github.com/ory/hydra" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/hydra/docs/next/faq">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/hydra/docs/faq">v1.10</a></li><li class="menu__list-item"><a class="menu__link" href="/hydra/docs/v1.9/faq">v1.9</a></li><li class="menu__list-item"><a class="menu__link" href="/hydra/docs/v1.8/faq">v1.8</a></li><li class="menu__list-item"><a class="menu__link" href="/hydra/docs/v1.7/faq">v1.7</a></li><li class="menu__list-item"><a class="menu__link" href="/hydra/docs/v1.6/faq">v1.6</a></li><li class="menu__list-item"><a class="menu__link" href="/hydra/docs/v1.5/faq">v1.5</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/hydra/docs/v1.4/faq">v1.4</a></li><li class="menu__list-item"><a class="menu__link" href="/hydra/docs/versions">All versions</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/install">Installation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/oauth2">OAuth 2.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/login-consent-flow">Hydra workflow</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Integrating Hydra into your stack</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/5min-tutorial">5 Minute Tutorial</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/implementing-consent">Login, Consent &amp; Logout</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/case-study">OAuth 2.0 Case Study</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/configure-deploy">Installation and Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/dependencies-environment">Database Setup and Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/production">Preparing for Production</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/debugging">Common Problems &amp; Debugging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/advanced">Advanced Topics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/integration">Consuming OAuth 2.0</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/reference/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/reference/api">REST API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">SDKs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/sdk/index">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/sdk/go">Go</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/sdk/js">JavaScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/hydra/docs/v1.4/sdk/php">PHP</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Further Reading</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/hydra/docs/v1.4/limitations">Limitations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/hydra/docs/v1.4/jwks">JSON Web Key Sets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/hydra/docs/v1.4/benchmark">Benchmarks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/hydra/docs/v1.4/security-architecture">Security Architecture</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/hydra/docs/v1.4/faq">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ORY Kratos</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/kratos" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="-1"><span>Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://www.ory.sh/kratos/docs" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="-1"><span>Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://github.com/ory/kratos" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="-1"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ORY Oathkeeper</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="-1"><span>Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="-1"><span>Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://github.com/ory/oathkeeper" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="-1"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ORY Keto</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/keto" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="-1"><span>Home<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="-1"><span>Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://github.com/ory/keto" target="_blank" rel="noopener noreferrer" class="menu__link" tabindex="-1"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for ORY Hydra <b>v1.4</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/hydra/docs/faq">latest version</a></b> (v1.10).</div></div><div class="docItemContainer_33ec"><article><span class="badge badge--secondary">Version: v1.4</span><div class="markdown"><header><h1 class="h1Heading_27L5">FAQ</h1></header><p>This file keeps track of questions and discussions from Gitter and general help
with various issues.</p><p><strong>Please be aware that some things noted here might be highly outdated. If you
find an outdated section, please create a PR which removes or updates it!</strong></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-can-i-control-sql-connection-limits"></a>How can I control SQL connection limits?<a class="hash-link" href="#how-can-i-control-sql-connection-limits" title="Direct link to heading">#</a></h2><p>You can configure SQL connection limits by appending parameters <code>max_conns</code>,
<code>max_idle_conns</code>, or <code>max_conn_lifetime</code> to the DSN:
<code>postgres://foo:bar@host:port/database?max_conns=12</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="why-is-the-resource-owner-password-credentials-grant-not-supported"></a>Why is the Resource Owner Password Credentials grant not supported?<a class="hash-link" href="#why-is-the-resource-owner-password-credentials-grant-not-supported" title="Direct link to heading">#</a></h2><p>The following is a copy of the original
<a href="https://github.com/ory/hydra/pull/297#issuecomment-294282671" target="_blank" rel="noopener noreferrer">comment on GitHub</a>:</p><p>I took a long time for this issue, primarily because I felt very uncomfortable
implementing it. The ROCP grant is something from the &quot;dark ages&quot; of OAuth2 and
there are suitable replacements for mobile clients, such as public oauth2
clients, which are supported by Hydra:
<a href="https://tools.ietf.org/html/draft-ietf-oauth-native-apps-09" target="_blank" rel="noopener noreferrer">https://tools.ietf.org/html/draft-ietf-oauth-native-apps-09</a></p><p>The OAuth2 Thread Model explicitly states that the ROPC grant is commonly used
in legacy/migration scenarios, and</p><blockquote><p>This grant type has higher risk because it maintains the UID/password
anti-pattern. Additionally, because the user does not have control over the
authorization process, clients using this grant type are not limited by scope
but instead have potentially the same capabilities as the user themselves. As
there is no authorization step, the ability to offer token revocation is
bypassed.</p></blockquote><blockquote><p>Because passwords are often used for more than 1 service, this anti-pattern
may also put at risk whatever else is accessible with the supplied credential.
Additionally, any easily derived equivalent (e.g., <a href="mailto:joe@example.com" target="_blank" rel="noopener noreferrer">joe@example.com</a> and
<a href="mailto:joe@example.net" target="_blank" rel="noopener noreferrer">joe@example.net</a>) might easily allow someone to guess that the same password
can be used elsewhere.</p></blockquote><blockquote><p>Impact: The resource server can only differentiate scope based on the access
token being associated with a particular client. The client could also acquire
long-lived tokens and pass them up to an attacker&#x27;s web service for further
abuse. The client, eavesdroppers, or endpoints could eavesdrop the user id and
password.</p></blockquote><blockquote><p>o Except for migration reasons, minimize use of this grant type.</p></blockquote><ul><li><a href="https://tools.ietf.org/html/rfc6819#section-4.4.3" target="_blank" rel="noopener noreferrer">source</a></li></ul><p>Thus, I decided to not implement the ROPC grant in Hydra. Over time, I will add
documentation how to deal with mobile scenarios and similar.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="should-i-use-oauth2-tokens-for-authentication"></a>Should I use OAuth2 tokens for authentication?<a class="hash-link" href="#should-i-use-oauth2-tokens-for-authentication" title="Direct link to heading">#</a></h2><p>OAuth2 tokens are like money. It allows you to buy stuff, but the cashier does
not really care if the money is yours or if you stole it, as long as it&#x27;s valid
money. Depending on what you understand as authentication, this is a yes and no
answer:</p><ul><li><strong>Yes:</strong> You can use access tokens to find out which user (&quot;subject&quot;) is
performing an action in a resource provider (blog article service, shopping
basket, ...). Coming back to the money example: <em>You</em>, the subject, receives a
cappuccino from the vendor (resource provider) in exchange for money (access
token).</li><li><strong>No:</strong> Never use access tokens for logging people in, for example
<code>http://myapp.com/login?access_token=...</code>. Coming back to the money example:
The police officer (&quot;authentication server&quot;) will not accept money (&quot;access
token&quot;) as a proof of identity (&quot;it&#x27;s really you&quot;). Unless he is corrupt
(&quot;vulnerable&quot;), of course.</li></ul><p>In the second example (&quot;authentication server&quot;), you must use OpenID Connect ID
Tokens.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-to-deal-with-mobile-apps"></a>How to deal with mobile apps?<a class="hash-link" href="#how-to-deal-with-mobile-apps" title="Direct link to heading">#</a></h2><p>Read <a href="https://www.ory.sh/oauth2-for-mobile-app-spa-browser" target="_blank" rel="noopener noreferrer">this article</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-should-i-run-migrations"></a>How should I run migrations?<a class="hash-link" href="#how-should-i-run-migrations" title="Direct link to heading">#</a></h2><p>Since ORY Hydra 0.8.0, migrations are no longer run automatically on boot. This
is required in production environments, because:</p><ol><li>Although SQL migrations are tested, migrating schemas can cause data loss and
should only be done consciously with prior back ups.</li><li>Running a production system with a user that has right such as ALTER TABLE is
a security anti-pattern.</li></ol><p>Thus, to initialize the database schemas, it is required to run
<code>hydra migrate sql driver://user:password@host:port/db</code> before running
<code>hydra host</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-does-the-installation-process-look-like"></a>What does the installation process look like?<a class="hash-link" href="#what-does-the-installation-process-look-like" title="Direct link to heading">#</a></h2><ol><li>Run <code>hydra migrate sql ...</code> on a host close to the database (e.g. a virtual
machine with access to the SQL instance).</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="what-does-a-migration-process-look-like"></a>What does a migration process look like?<a class="hash-link" href="#what-does-a-migration-process-look-like" title="Direct link to heading">#</a></h2><ol><li>Make sure a database update is required by checking the release notes.</li><li>Make a back up of the database.</li><li>Run the migration script on a host close to the database (e.g. a virtual
machine with access to the SQL instance). Schemas are usually backwards
compatible, so instances running previous versions of ORY Hydra should keep
working fine. If backwards compatibility is not given, this will be addressed
in the patch notes.</li><li>Upgrade all ORY Hydra instances.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-can-i-do-this-in-docker"></a>How can I do this in docker?<a class="hash-link" href="#how-can-i-do-this-in-docker" title="Direct link to heading">#</a></h2><p>Many deployments of ORY Hydra use Docker. Although several options are
available, we advise to extend the ORY Hydra Docker image</p><p><strong>Dockerfile</strong></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">FROM oryd/hydra:&lt;tag&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">ENTRYPOINT hydra migrate sql --yes $DATABASE_URL</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>and run it in your infrastructure once.</p><p>Additionally, <em>but not recommended</em>, it is possible to override the entry point
of the ORY Hydra Docker image using CLI flag
<code>--entrypoint &quot;hydra migrate sql --yes $DATABASE_URL; hydra host&quot;</code> or with
<code>entrypoint: hydra migrate sql $DATABASE_URL; hydra host</code> set in your docker
compose config.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="can-i-set-the-log-level-to-warn-error-debug-"></a>Can I set the log level to warn, error, debug, ...?<a class="hash-link" href="#can-i-set-the-log-level-to-warn-error-debug-" title="Direct link to heading">#</a></h2><p>Yes, you can do so by setting the environment variable <code>LOG_LEVEL=&lt;level&gt;</code>.
There are various levels supported:</p><ul><li>debug</li><li>info</li><li>warn</li><li>error</li><li>fatal</li><li>panic</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-can-i-import-tls-certificates"></a>How can I import TLS certificates?<a class="hash-link" href="#how-can-i-import-tls-certificates" title="Direct link to heading">#</a></h2><p>You can import TLS certificates when running <code>hydra host</code>. This can be done by
setting the following environment variables:</p><p><strong>Read from file</strong></p><ul><li><code>HTTPS_TLS_CERT_PATH</code>: The path to the TLS certificate (pem encoded).</li><li><code>HTTPS_TLS_KEY_PATH</code>: The path to the TLS private key (pem encoded).</li></ul><p><strong>Embedded</strong></p><ul><li><code>HTTPS_TLS_CERT</code>: A pem encoded TLS certificate passed as string. Can be used
instead of TLS_CERT_PATH.</li><li><code>HTTPS_TLS_KEY</code>: A pem encoded TLS key passed as string. Can be used instead
of TLS_KEY_PATH.</li></ul><p>Or by specifying the following flags:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">--https-tls-cert-path string   Path to the certificate file for HTTP/2 over TLS (https). You can set HTTPS_TLS_KEY_PATH or HTTPS_TLS_KEY instead.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">--https-tls-key-path string    Path to the key file for HTTP/2 over TLS (https). You can set HTTPS_TLS_KEY_PATH or HTTPS_TLS_KEY instead.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="is-there-an-http-api-documentation"></a>Is there an HTTP API Documentation?<a class="hash-link" href="#is-there-an-http-api-documentation" title="Direct link to heading">#</a></h2><p><a href="https://www.ory.sh/docs/api/hydra" target="_blank" rel="noopener noreferrer">Yes</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="how-can-i-disable-https-for-testing"></a>How can I disable HTTPS for testing?<a class="hash-link" href="#how-can-i-disable-https-for-testing" title="Direct link to heading">#</a></h2><p>You can do so by running <code>hydra host --dangerous-force-http</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="mysql-gives-unsupported-scan-storing-drivervalue-type-uint8-into-type-timetime"></a>MySQL gives <code>unsupported Scan, storing driver.Value type []uint8 into type *time.Time</code><a class="hash-link" href="#mysql-gives-unsupported-scan-storing-drivervalue-type-uint8-into-type-timetime" title="Direct link to heading">#</a></h2><blockquote><p>did a quick test to get mysql running, but run into migrate sql issue - seems
mysql related An error occurred while running the migrations: Could not apply
ladon SQL migrations: Could not migrate sql schema, applied 0 migrations: sql:
Scan error on column index 0: unsupported Scan, storing driver.Value type
[]uint8 into type *time.Time is this a known bug ? or any specific mysql
version which is required (running 5.7) ?</p></blockquote><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ hydra help host</span></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">   - MySQL: If DATABASE_URL is a DSN starting with mysql:// MySQL will be used as storage backend.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Example: DATABASE_URL=mysql://user:password@tcp(host:123)/database?parseTime=true</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Be aware that the ?parseTime=true parameter is mandatory, or timestamps will not work.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="the-docker-image-exits-immediately"></a>The docker image exits immediately<a class="hash-link" href="#the-docker-image-exits-immediately" title="Direct link to heading">#</a></h2><p>Check the logs using <code>docker logs &lt;container-id&gt;</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="insufficient-entropy"></a>Insufficient Entropy<a class="hash-link" href="#insufficient-entropy" title="Direct link to heading">#</a></h2><blockquote><p>Hey there , I am getting this error when I try request an access token &quot;The
request used a security parameter (e.g., anti-replay, anti-csrf) with
insufficient entropy (minimum of 8 characters)&quot;</p></blockquote><blockquote><p>Kareem Diaa @kimooz Jun 07 16:41<br>
Hey there , I am getting this error when I try request an access token &quot;The
request used a security parameter (e.g., anti-replay, anti-csrf) with
insufficient entropy (minimum of 8 characters)&quot;</p></blockquote><blockquote><p>Aeneas @arekkas Jun 07 16:41<br>
@kimooz make sure state and nonce are set in your auth code url
(http://hydra/oauth2/auth?client_id=...&amp;nonce=THIS_NEEDS_TO_BE_SET&amp;state=THIS_ALSO_NEEDS_TO_BE_SET</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="i-get-compile-errors"></a>I get compile errors!<a class="hash-link" href="#i-get-compile-errors" title="Direct link to heading">#</a></h2><blockquote><p>I would try deleting the vendor dir and glide‚Äôs files and try glide init again
or clear Glide‚Äôs global cache.</p></blockquote><blockquote><p>follow the steps in the readme
<a href="https://github.com/ory/hydra#building-from-source" target="_blank" rel="noopener noreferrer">https://github.com/ory/hydra#building-from-source</a></p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="refreshing-tokens"></a>Refreshing tokens<a class="hash-link" href="#refreshing-tokens" title="Direct link to heading">#</a></h2><blockquote><p>Kareem Diaa @kimooz 15:48<br>
One last question if you don&#x27;t mind from your experience do you think that
saving the user access token in a session and validating it from the client on
ever refresh does that make sense or not? using the introspect endpoint</p></blockquote><blockquote><p>Aeneas @arekkas 15:51<br>
nah, simply write your http calls in a way that if a 401 or 403 occurs, the
token is refreshed that&#x27;s the easiest and cleanest</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="hydra-wont-remember-my-login"></a>Hydra won&#x27;t remember my login<a class="hash-link" href="#hydra-wont-remember-my-login" title="Direct link to heading">#</a></h2><p>Hydra only keeps track of the session if you set the <code>remember_me</code> parameter in
the <code>accept login request</code>. Otherwise the login challenge will always instruct
you to show the login UI.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="where-can-i-get-documentation-on-running-multiple-instances-of-hydra"></a>Where can I get documentation on running multiple instances of Hydra?<a class="hash-link" href="#where-can-i-get-documentation-on-running-multiple-instances-of-hydra" title="Direct link to heading">#</a></h2><blockquote><p>@killa#7335 20190103 01:06<br>
My company is thinking about adopting Hydra. There is a performance benchmark
including data at <a href="https://www.ory.sh/docs/next/performance/hydra" target="_blank" rel="noopener noreferrer">https://www.ory.sh/docs/next/performance/hydra</a> and some
information on how to scale hydra. Where can I get documentation on running
multiple instances of Hydra?<br>
Source: Discord/ory/general</p></blockquote><p>Hydra scales according to 12 factor principles. Just add another instance with
the same config.<br>
Please check the documentation section for 12 factor principles for more
information: <a href="https://www.ory.sh/docs/ecosystem/cloud-native" target="_blank" rel="noopener noreferrer">https://www.ory.sh/docs/ecosystem/cloud-native</a>. There is also some
information on collecting statistics in the section on
<a href="https://github.com/prometheus" target="_blank" rel="noopener noreferrer">prometheus</a> in the five minute tutorial:
<a href="https://www.ory.sh/docs/hydra/5min-tutorial" target="_blank" rel="noopener noreferrer">https://www.ory.sh/docs/hydra/5min-tutorial</a></p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/ory/hydra/edit/master/docs/versioned_docs/version-v1.4/faq.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2020-04-06T13:16:25.000Z">4/6/2020</time></b> by <b>hackerman</b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/hydra/docs/v1.4/security-architecture"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Security Architecture</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-can-i-control-sql-connection-limits" class="table-of-contents__link">How can I control SQL connection limits?</a></li><li><a href="#why-is-the-resource-owner-password-credentials-grant-not-supported" class="table-of-contents__link">Why is the Resource Owner Password Credentials grant not supported?</a></li><li><a href="#should-i-use-oauth2-tokens-for-authentication" class="table-of-contents__link">Should I use OAuth2 tokens for authentication?</a></li><li><a href="#how-to-deal-with-mobile-apps" class="table-of-contents__link">How to deal with mobile apps?</a></li><li><a href="#how-should-i-run-migrations" class="table-of-contents__link">How should I run migrations?</a></li><li><a href="#what-does-the-installation-process-look-like" class="table-of-contents__link">What does the installation process look like?</a></li><li><a href="#what-does-a-migration-process-look-like" class="table-of-contents__link">What does a migration process look like?</a></li><li><a href="#how-can-i-do-this-in-docker" class="table-of-contents__link">How can I do this in docker?</a></li><li><a href="#can-i-set-the-log-level-to-warn-error-debug-" class="table-of-contents__link">Can I set the log level to warn, error, debug, ...?</a></li><li><a href="#how-can-i-import-tls-certificates" class="table-of-contents__link">How can I import TLS certificates?</a></li><li><a href="#is-there-an-http-api-documentation" class="table-of-contents__link">Is there an HTTP API Documentation?</a></li><li><a href="#how-can-i-disable-https-for-testing" class="table-of-contents__link">How can I disable HTTPS for testing?</a></li><li><a href="#mysql-gives-unsupported-scan-storing-drivervalue-type-uint8-into-type-timetime" class="table-of-contents__link">MySQL gives <code>unsupported Scan, storing driver.Value type []uint8 into type *time.Time</code></a></li><li><a href="#the-docker-image-exits-immediately" class="table-of-contents__link">The docker image exits immediately</a></li><li><a href="#insufficient-entropy" class="table-of-contents__link">Insufficient Entropy</a></li><li><a href="#i-get-compile-errors" class="table-of-contents__link">I get compile errors!</a></li><li><a href="#refreshing-tokens" class="table-of-contents__link">Refreshing tokens</a></li><li><a href="#hydra-wont-remember-my-login" class="table-of-contents__link">Hydra won&#39;t remember my login</a></li><li><a href="#where-can-i-get-documentation-on-running-multiple-instances-of-hydra" class="table-of-contents__link">Where can I get documentation on running multiple instances of Hydra?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.ory.sh/imprint" target="_blank" rel="noopener noreferrer" class="footer__link-item">Imprint</a></li><li class="footer__item"><a href="https://www.ory.sh/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://www.ory.sh/tos" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a></li></ul></div></div><div class="text--center"><div>Copyright ¬© 2021 ORY GmbH</div></div></div></footer></div></div>
<script src="/hydra/docs/assets/js/runtime~main.4f6714be.js"></script>
<script src="/hydra/docs/assets/js/main.dd470314.js"></script>
<noscript><p><img src="//sqa-web.ory.sh/np.php?idsite=2&amp;rec=1" style="border:0;" alt=""></p></noscript></body>
</html>