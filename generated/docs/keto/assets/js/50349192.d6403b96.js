(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{112:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return u}));var a=n(3),o=n(8),r=(n(0),n(200)),i=n(201),c={title:"Objects"},s={unversionedId:"concepts/objects",id:"version-v0.6/concepts/objects",isDocsHomePage:!1,title:"Objects",description:"RelationTuplePrism()",source:"@site/versioned_docs/version-v0.6/concepts/objects.mdx",sourceDirName:"concepts",slug:"/concepts/objects",permalink:"/keto/docs/concepts/objects",editUrl:"https://github.com/ory/keto/edit/master/docs/versioned_docs/version-v0.6/concepts/objects.mdx",version:"v0.6",lastUpdatedBy:"aeneasr",lastUpdatedAt:1617730042,formattedLastUpdatedAt:"4/6/2021",frontMatter:{title:"Objects"},sidebar:"version-v0.6/docs",previous:{title:"Namespaces",permalink:"/keto/docs/concepts/namespaces"},next:{title:"Subjects",permalink:"/keto/docs/concepts/subjects"}};Object(i.a)();var l=[{value:"Basic Example",id:"basic-example",children:[]},{value:"Advanced Example: Using Application Information within Keto Objects",id:"advanced-example-using-application-information-within-keto-objects",children:[]}],p={toc:l};function u(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},p,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Objects are identifiers for some kind of application objects. They can represent\ne.g. a file, network port, physical item, ... . It is up to the application to\nmap its objects to an unambiguous identifier. The limit on object identifiers is\n64 characters. We recommend the usage of UUIDs as they provide a high entropy\nand thus unique identifiers. It is however possible to use e.g. URLs or opaque\ntokens of any kind. Please check the\n",Object(r.b)("a",{parentName:"p",href:"#advanced-example-using-application-information-within-keto-objects"},"limitations"),".\nOry Keto will consider objects equal iff their string representation is equal."),Object(r.b)("h2",{id:"basic-example"},"Basic Example"),Object(r.b)("p",null,"In the basic case an application uses the same object identifiers as it uses\ninternally, e.g. a UUIDv4 like ",Object(r.b)("inlineCode",{parentName:"p"},"61e75133-efff-4281-8148-a1806919f568")," or SHA-1\nhash like ",Object(r.b)("inlineCode",{parentName:"p"},"5c6f593a4e12970d647843f97846fd5ed18179eb"),"."),Object(r.b)("p",null,"Head over to the\n",Object(r.b)("a",{parentName:"p",href:"/keto/docs/examples/olymp-file-sharing"},"basic full feature example")," to see an\nexample with some context."),Object(r.b)("h2",{id:"advanced-example-using-application-information-within-keto-objects"},"Advanced Example: Using Application Information within Keto Objects"),Object(r.b)("p",null,"Because the Keto client can use arbitrary strings as objects, it is tempting to\nencode application data within the object. ",Object(r.b)("strong",{parentName:"p"},"We strongly discourage this\npractice.")," Instead, you should use a UUID to map application data to Keto\nobjects. This is required to ensure:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"single source of truth and easy data update"),Object(r.b)("li",{parentName:"ol"},"free choice of encoding (Keto does not allow the characters ",Object(r.b)("inlineCode",{parentName:"li"},":#@"),")"),Object(r.b)("li",{parentName:"ol"},"unlimited data size (Keto only allows up to 64 characters)")),Object(r.b)("p",null,"For example, this could be used to implement checks on value ranges. The\napplication knows the following mapping of comparison conditions and UUIDs:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-yml"},"f832e1e7-3c97-4cb8-8582-979e63ae2f1d:\n  greater_than: 5\n\nc4540cf5-6ac4-4007-910b-c5a56aa3d4e6:\n  greater_than: 2\n  smaller_equal: 5\n")),Object(r.b)("p",null,"Keto has the following relation tuples:"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-keto-relation-tuples"},"// Members of the admins group are allowed to set a value v > 5\nvalues:f832e1e7-3c97-4cb8-8582-979e63ae2f1d#set_value@(groups:admins#member)\n\n// Members of the devs group are allowed to set a value v: 2 < v <= 5\nvalues:c4540cf5-6ac4-4007-910b-c5a56aa3d4e6#set_value@(groups:devs#member)\n\n// Anyone who can set a value v > 5 can also set 2 < v <= 5\nvalues:c4540cf5-6ac4-4007-910b-c5a56aa3d4e6#set_value@(values:f832e1e7-3c97-4cb8-8582-979e63ae2f1d#set_value)\n")),Object(r.b)("p",null,'The application will have to translate an incoming "set value" request to the\ncorresponding condition the value fulfills. It is important to understand that\nOry Keto does ',Object(r.b)("strong",{parentName:"p"},"not")," know how to interpret any of the information. Rather, the\napplication has to preprocess and map the value to the corresponding UUID."))}u.isMDXComponent=!0},200:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n(0),o=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),p=function(e){var t=o.a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},u=function(e){var t=p(e.components);return o.a.createElement(l.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),u=p(n),d=a,m=u["".concat(i,".").concat(d)]||u[d]||b[d]||r;return n?o.a.createElement(m,c(c({ref:t},l),{},{components:n})):o.a.createElement(m,c({ref:t},l))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=d;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var l=2;l<r;l++)i[l]=n[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},201:function(e,t,n){"use strict";var a=n(21),o={punctuation:/[:#@()]/},r={pattern:/[^:#@()\n]+:/,inside:Object.assign({},o,{namespace:/.*/})},i={pattern:/[^:#@()\n]+#/,inside:Object.assign({},o,{symbol:/.*/})},c={pattern:/[^:#@()\n]+/,alias:"string"},s={pattern:/@[^:#@()\n]+/,inside:Object.assign({},o,{keyword:/.*/})},l={pattern:/@\(([^:#@()\n]+:)?([^:#@()\n]+)#([^:#@()\n]*)\)/,inside:{punctuation:/[@()]/,namespace:r,object:i,relation:c}};a.a.languages["keto-relation-tuples"]={comment:/\/\/.*(\n|$)/,"relation-tuple":{pattern:/([^:#@()\n]+:)?([^:#@()\n]+)#([^:#@()\n]+)@?((\(([^:#@()\n]+:)?([^:#@()\n]+)#([^:#@()\n]*)\))|([^:#@()\n]+))/,inside:{namespace:r,object:i,subjectID:s,subjectSet:l,relation:c}}},t.a=function(){}}}]);