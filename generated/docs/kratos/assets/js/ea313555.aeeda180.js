/*! For license information please see ea313555.aeeda180.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[343],{452:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return f})),n.d(t,"metadata",(function(){return y})),n.d(t,"toc",(function(){return O})),n.d(t,"default",(function(){return w}));var r=n(3),o=n(8),a=n(0),s=n.n(a),i=n(454),l=n(471),c=n.n(l),u=n(409),b=n.n(u),p=n(410),d=n.n(p),g=function(e){var t=e.children,n=e.tags;return s.a.createElement("div",{className:c.a.apply(void 0,[d.a.question].concat(n.map((function(e){return d.a[e]}))))},t)},h=function(e){var t,n,r=e.tag,o=e.isSelected,a=e.children,i=e.toggleSelected;return s.a.createElement("li",{className:c()((t={},t[d.a.selected]=o,t),d.a[r],b.a.pills,b.a.pills__item,(n={},n[b.a["pills__item--active"]]=o,n)),onClick:i},a)},m=function(e){var t=e.tags,n=e.initiallyDisabled,r=Object(a.useState)(t.filter((function(e){return!n.includes(e)}))),o=r[0],i=r[1];return s.a.createElement(s.a.Fragment,null,t.map((function(e){return s.a.createElement(h,{key:e,tag:e,isSelected:o.find((function(t){return t===e})),toggleSelected:function(){o.find((function(t){return t===e}))?i(o.filter((function(t){return t!==e}))):i([].concat(o,[e]))}},"#",e)})))},f={id:"faq",title:"Frequently Asked Questions (FAQ)"},y={unversionedId:"faq",id:"faq",isDocsHomePage:!1,title:"Frequently Asked Questions (FAQ)",description:"<FaqTags",source:"@site/docs/faq.mdx",sourceDirName:".",slug:"/faq",permalink:"/kratos/docs/next/faq",editUrl:"https://github.com/ory/kratos/edit/master/docs/docs/faq.mdx",version:"current",lastUpdatedBy:"aeneasr",lastUpdatedAt:1617188860,formattedLastUpdatedAt:"3/31/2021",frontMatter:{id:"faq",title:"Frequently Asked Questions (FAQ)"},sidebar:"docs",previous:{title:"Contribution Guidelines",permalink:"/kratos/docs/next/contributing"},next:{title:"Overview",permalink:"/kratos/docs/next/concepts/index"}},O=[],j={toc:O};function w(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},j,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)(m,{tags:["kratos","secrets","config","database","ecosystem","user","validation","traits","registration","cors","feature","hooks","migration","security","oidc","spa"],initiallyDisabled:["kratos"],mdxType:"FaqTags"}),Object(i.b)("br",null),Object(i.b)("br",null),Object(i.b)(g,{tags:["kratos","secrets","config"],mdxType:"Question"},"#kratos #secrets #config",Object(i.b)("p",null,Object(i.b)("strong",null,"Q"),": Is it possible to pass multiple system.secret values through the ENV, or do you have to use a config file for that?"),Object(i.b)("p",null,Object(i.b)("strong",null,"A"),": Yes, you can set them as environmental variable, you just have to separate them using a ",Object(i.b)("code",null,","),". More info on these conventions in the documentation:"," ",Object(i.b)("a",{href:"https://www.ory.sh/docs/ecosystem/configuring/#stringnumeric-arrays"},"Setting configuration values via environmental variables"),".")),Object(i.b)("br",null),Object(i.b)(g,{tags:["kratos","database"],mdxType:"Question"},"#kratos #database",Object(i.b)("p",null,Object(i.b)("strong",null,"Q"),": We want to seperate our customers and employees, so we store them in different databases. But we would like to have them use the same login dialog for our portal. How can I achieve that with Ory Kratos?"),Object(i.b)("p",null,Object(i.b)("strong",null,"A"),": You can deploy Ory Kratos two times, and use the same login UI pointing to two different Kratos login endpoints -"," ",Object(i.b)("code",null,"/login/customer")," or ",Object(i.b)("code",null,"/login/employee"),", either by having two different login routes, or by adding some logic to your login UI that reroutes customers to ",Object(i.b)("code",null,"/login/customer")," and employees to"," ",Object(i.b)("code",null,"/login/employee"),". So you define the same login or registration UI URLs in both of the Kratos configurations. You may need to tell your login/registration UI which Kratos it is supposed to talk to. The instances are cheap to deploy and the databases are completely isolated from each other. For example something like ",Object(i.b)("code",null,"/login/customer")," and"," ",Object(i.b)("code",null,"/login/employee"),".")),Object(i.b)("br",null),Object(i.b)(g,{tags:["kratos","ecosystem"],mdxType:"Question"},"#kratos #ecosystem",Object(i.b)("p",null,Object(i.b)("strong",null,"Q"),": Is the code audited by an independent entity and is there a bug bounty program?"),Object(i.b)("p",null,Object(i.b)("strong",null,"A"),": We will do that when the APIs and core are stable. A bug bounty program is in the making but not done yet. If you are a security researcher and interested in working on Kratos, please reach out to"," ",Object(i.b)("a",{href:"mailto:security@ory.sh"},"security@ory.sh"),".")),Object(i.b)("br",null),Object(i.b)(g,{tags:["kratos","user","validation","traits"],mdxType:"Question"},"#kratos #user #validation #traits",Object(i.b)("p",null,Object(i.b)("strong",null,"Q"),": What is the correct flow to sanitize the username and make sure it satisfies a specific regex (e.g. only alphanumeric characters)?"),Object(i.b)("p",null,Object(i.b)("strong",null,"A"),": In the identity json schema using"," ",Object(i.b)("a",{href:"https://json-schema.org/understanding-json-schema/reference/string.html#regular-expressions"},"Regular Expressions"),". To sanitize usernames coming from third-party OIDC providers like Google or GitHub you write ",Object(i.b)("a",{href:"https://jsonnet.org"},"jsonnet code"),".")),Object(i.b)("br",null),Object(i.b)(g,{tags:["kratos","registration","cors"],mdxType:"Question"},"#kratos #registration #cors",Object(i.b)("p",null,Object(i.b)("strong",null,"Q"),": I am currently trying to get the Kratos registration flow working on a react app that I am creating. I am having CORS issues with the completeSelfServiceRegistrationFlowWithPasswordMethod call when using the @oryd/kratos-client JS package."),Object(i.b)("p",null,Object(i.b)("strong",null,"A"),": You are using AJAX to submit the form. This is not supported right now. You need to submit a regular HTML form. Do not use AJAX. Do not use fetch. Let the user click the submit button and do not do anything. AJAX will be better supported starting Kratos v0.6.")),Object(i.b)("br",null),Object(i.b)(g,{tags:["kratos","traits","feature"],mdxType:"Question"},"#kratos #traits #feature",Object(i.b)("p",null,Object(i.b)("strong",null,"Q"),": Is the ability to freeze certain identity fields after registration anywhere on the roadmap? Also I want read-only or hidden user-specific data. Can I use traits for that? Example: Some of our identity trait fields may be the subject to identity validation (",Object(i.b)("a",{href:"https://en.wikipedia.org/wiki/Know_your_customer"},"know your customer"),"). Once they are validated we do not allow the identity to be edited by the end-user."),Object(i.b)("p",null,Object(i.b)("strong",null,"A"),": Currently traits are visible to the user and also editable by them. It makes sense to have read-only and/or hidden traits for users, but we can not give an exact timing when this will be available. There is an open issue for this feature:",Object(i.b)("a",{href:"https://github.com/ory/kratos/issues/47"},"Issue"),".")),Object(i.b)("br",null),Object(i.b)(g,{tags:["kratos","hooks","feature"],mdxType:"Question"},"#kratos #hooks #feature",Object(i.b)("p",null,Object(i.b)("strong",null,"Q"),": Are there plans to provide hooks on registration/login/logouts/identity updates?"),Object(i.b)("p",null,Object(i.b)("strong",null,"A"),": Yes! See these issues for more information on the current progress:"," ",Object(i.b)("a",{href:"https://github.com/ory/kratos/issues/271"},"Feature Request: Webhooks")," ","and"," ",Object(i.b)("a",{href:"https://github.com/ory/kratos/issues/30"},"Implement RPC After Hook"),".")),Object(i.b)("br",null),Object(i.b)(g,{tags:["kratos","registration","traits"],mdxType:"Question"},"#kratos #registration #traits",Object(i.b)("p",null,Object(i.b)("strong",null,"Q"),": How can I verify beforehand if a username is available during registration?"),Object(i.b)("p",null,Object(i.b)("strong",null,"A"),": You can not right now. It would allow account enumeration attacks. See also the"," ",Object(i.b)("a",{href:"https://www.ory.sh/kratos/docs/concepts/security/#account-enumeration"},"section in the documentation"),".")),Object(i.b)("br",null),Object(i.b)(g,{tags:["kratos","database","migration","feature"],mdxType:"Question"},"#kratos #database #migration #feature",Object(i.b)("p",null,Object(i.b)("strong",null,"Q"),": Do have plans to support user migration scenarios similar to auth0 automatic migrations? E.g. configure a callback to the legacy system when you cannot find the corresponding user, and store the identity on successful legacy system response."),Object(i.b)("p",null,Object(i.b)("strong",null,"A"),": No plans yet, but migration is an important piece of the puzzle. We will focus on importing existing users first. An alternative to callback and custom code is fronting the legacy system with Ory Hydra (OAuth2/OIDC Server) and then using that as an upstream in Ory Kratos.")),Object(i.b)("br",null),Object(i.b)(g,{tags:["kratos","security"],mdxType:"Question"},"#kratos #security",Object(i.b)("p",null,Object(i.b)("strong",null,"Q"),": Do you have protection or plans for brute force attacks i.e. repetitive login attempts? Leaked database scans?"),Object(i.b)("p",null,Object(i.b)("strong",null,"A"),": See the following document:"," ",Object(i.b)("a",{href:"https://www.ory.sh/kratos/docs/concepts/security#passwords"},"Ory Kratos Security Measures"))),Object(i.b)("br",null),Object(i.b)(g,{tags:["kratos","oidc","traits"],mdxType:"Question"},"#kratos #oidc #traits",Object(i.b)("p",null,Object(i.b)("strong",null,"Q"),": How do I append a random suffix e.g. a number to OIDC usernames if the username returned by a provider is already taken."),Object(i.b)("p",null,Object(i.b)("strong",null,"A"),": You can use the md5 function built in the"," ",Object(i.b)("a",{href:"https://jsonnet.org/ref/stdlib.html"},"jsonnet standart library"),". See the following issue as well:"," ",Object(i.b)("a",{href:"https://github.com/ory/kratos/issues/988"},"Add random function to the jsonnet library"),".")),Object(i.b)("br",null),Object(i.b)(g,{tags:["kratos","spa"],mdxType:"Question"},"#kratos #spa",Object(i.b)("p",null,Object(i.b)("strong",null,"Q"),": I want to implement a single-page-app (SPA). Is this possible with Ory Kratos?"),Object(i.b)("p",null,Object(i.b)("strong",null,"A"),": Yes, definitely. We do not have an example-app (yet). Also, you might not get around some page-reloads as you definitely should, as it is not possible to use the API flows in the browser. This is important to prevent"," ",Object(i.b)("a",{href:"https://en.wikipedia.org/wiki/Cross-site_request_forgery"},"CSRF attacks"),". So hopefully you are not too strict with your SPA. A sample app is being worked on here:"," ",Object(i.b)("a",{href:"https://github.com/ory/kratos/issues/668"},"Implement React SPA sample app"),".")),Object(i.b)("br",null))}w.isMDXComponent=!0},454:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return g}));var r=n(0),o=n.n(r);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=o.a.createContext({}),u=function(e){var t=o.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},b=function(e){var t=u(e.components);return o.a.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},d=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),b=u(n),d=r,g=b["".concat(s,".").concat(d)]||b[d]||p[d]||a;return n?o.a.createElement(g,i(i({ref:t},c),{},{components:n})):o.a.createElement(g,i({ref:t},c))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,s=new Array(a);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var c=2;c<a;c++)s[c]=n[c];return o.a.createElement.apply(null,s)}return o.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},471:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var s=o.apply(null,r);s&&e.push(s)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var i in r)n.call(r,i)&&r[i]&&e.push(i);else e.push(r.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()}}]);