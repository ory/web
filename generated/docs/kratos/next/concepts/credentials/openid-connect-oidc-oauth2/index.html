<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.73">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setDocumentTitle",document.domain+"/"+document.title]),_paq.push(["setCookieDomain","*.ory.sh"]),_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var e="//sqa-web.ory.sh/";_paq.push(["setTrackerUrl",e+"np.php"]),_paq.push(["setSiteId","2"]);var a=document,p=a.createElement("script"),t=a.getElementsByTagName("script")[0];p.type="text/javascript",p.async=!0,p.src=e+"js/np.js",t.parentNode.insertBefore(p,t)}()</script>
<link rel="search" type="application/opensearchdescription+xml" title="Ory Kratos" href="/kratos/docs/opensearch.xml"><title data-react-helmet="true">Social Sign In, OpenID Connect, and OAuth2 | Ory Kratos</title><meta data-react-helmet="true" property="og:url" content="https://www.ory.sh//kratos/docs/next/concepts/credentials/openid-connect-oidc-oauth2"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Social Sign In, OpenID Connect, and OAuth2 | Ory Kratos"><meta data-react-helmet="true" name="description" content="The oidc method uses OpenID Connect, or OAuth2 where OpenID Connect is not"><meta data-react-helmet="true" property="og:description" content="The oidc method uses OpenID Connect, or OAuth2 where OpenID Connect is not"><link data-react-helmet="true" rel="shortcut icon" href="/kratos/docs/img/favico.png"><link data-react-helmet="true" rel="canonical" href="https://www.ory.sh//kratos/docs/next/concepts/credentials/openid-connect-oidc-oauth2"><link data-react-helmet="true" rel="alternate" href="https://www.ory.sh//kratos/docs/next/concepts/credentials/openid-connect-oidc-oauth2" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://www.ory.sh//kratos/docs/next/concepts/credentials/openid-connect-oidc-oauth2" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/kratos/docs/assets/css/styles.d2c68386.css">
<link rel="preload" href="/kratos/docs/assets/js/styles.6a51c5d5.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/runtime~main.24d71ae5.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/main.9e51062d.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/2.6e5ecd5e.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/3.d017d23c.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/b8d7c5e6.53a01579.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/485.6de6eee3.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/935f2afb.6adaf6fe.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/17896441.d4b583b0.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/56ff8f6b.9bd8b87f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.ory.sh/kratos" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/kratos/docs/img/logo-kratos.svg" alt="Ory Kratos" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/kratos/docs/img/logo-kratos.svg" alt="Ory Kratos" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a href="https://www.ory.sh/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home</a><a href="https://www.ory.sh/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ory/kratos/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discussions</a><a href="https://www.ory.sh/chat" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Slack</a><a href="https://github.com/ory/kratos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/kratos/docs/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/kratos/docs/next/concepts/credentials/openid-connect-oidc-oauth2">Next</a></li><li><a class="dropdown__link" href="/kratos/docs/concepts/credentials/openid-connect-oidc-oauth2">v0.6</a></li><li><a class="dropdown__link" href="/kratos/docs/v0.5/concepts/credentials/openid-connect-oidc-oauth2">v0.5</a></li><li><a class="dropdown__link" href="/kratos/docs/v0.4/concepts/credentials/openid-connect-oidc-oauth2">v0.4</a></li><li><a class="dropdown__link" href="/kratos/docs/v0.3/concepts/credentials/openid-connect-oidc-oauth2">v0.3</a></li><li><a class="dropdown__link" href="/kratos/docs/v0.2/concepts/credentials/openid-connect-oidc-oauth2">v0.2</a></li><li><a class="dropdown__link" href="/kratos/docs/v0.1/">v0.1</a></li><li><a class="dropdown__link" href="/kratos/docs/versions">All versions</a></li></ul></div><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://www.ory.sh/kratos" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/kratos/docs/img/logo-kratos.svg" alt="Ory Kratos" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/kratos/docs/img/logo-kratos.svg" alt="Ory Kratos" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/" target="_blank" rel="noopener noreferrer" class="menu__link">Home</a></li><li class="menu__list-item"><a href="https://www.ory.sh/blog" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/ory/kratos/discussions" target="_blank" rel="noopener noreferrer" class="menu__link">Discussions</a></li><li class="menu__list-item"><a href="https://www.ory.sh/chat" target="_blank" rel="noopener noreferrer" class="menu__link">Slack</a></li><li class="menu__list-item"><a href="https://github.com/ory/kratos" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/kratos/docs/next/concepts/credentials/openid-connect-oidc-oauth2">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/concepts/credentials/openid-connect-oidc-oauth2">v0.6</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/v0.5/concepts/credentials/openid-connect-oidc-oauth2">v0.5</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/v0.4/concepts/credentials/openid-connect-oidc-oauth2">v0.4</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/v0.3/concepts/credentials/openid-connect-oidc-oauth2">v0.3</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/v0.2/concepts/credentials/openid-connect-oidc-oauth2">v0.2</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/v0.1/">v0.1</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/versions">All versions</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a href="https://www.ory.sh/kratos" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_3h0W"><img src="/kratos/docs/img/logo-kratos.svg" alt="Ory Kratos" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/kratos/docs/img/logo-kratos.svg" alt="Ory Kratos" class="themedImage_1VuW themedImage--dark_hz6m"></a><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Developer Documentation</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/docs/" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Welcome to Ory</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/get-started" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Get Started</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/open-source" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Ory Open Source</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/early-access" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Early Access</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/ecosystem/community" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Community</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Guides</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/docs/guides/ory-cli-install-use" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Install and Use the Ory CLI</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/guides/integrate-nodejs" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Integrate with NodeJS</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/guides/proxy" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">No-Code with Ory Proxy</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/guides/bring-your-user-interface" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Bring your own UI</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/guides/create-personal-access-token" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Create And Use Personal Access Tokens</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/docs/concepts/project" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Ory Projects</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/concepts/personal-access-token" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Personal Access Tokens</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/concepts/identity" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Identity Data Model, Custom Fields</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/concepts/self-service" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Self-Service (End-User)</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/concepts/session" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Sessions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Further Reading</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/docs/ecosystem/api-design" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">API Design</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/ecosystem/software-architecture-philosophy" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Software Architecture and Philosophy</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Reference</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Command Line Interface (CLI)</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/docs/cli/ory" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">ory</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/cli/ory-identities" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">ory identities</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/cli/ory-identities-delete" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">ory identities delete</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/cli/ory-identities-get" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">ory identities get</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/cli/ory-identities-list" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">ory identities list</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/cli/ory-proxy" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">ory proxy</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/cli/ory-proxy-local" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">ory proxy local</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/cli/ory-version" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">ory version</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Open Source Overview</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/docs/ecosystem/projects" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Projects</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/ecosystem/versioning" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Software Versions and Project Maturity</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/ecosystem/configuring" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Configuring Ory services</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/ecosystem/upgrading" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Software Updates</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/ecosystem/contributing" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Contributing</a></li><li class="menu__list-item"><a href="https://www.ory.sh/docs/ecosystem/roadmap" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Roadmap</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Open Source Documentation</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Ory Kratos</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/quickstart">Quickstart</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/configuring">Configuring</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/contributing">Contribution Guidelines</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/faq">Frequently Asked Questions (FAQ)</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/next/concepts/index">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/next/concepts/terminology">Terminology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/next/concepts/ui-user-interface">User Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/next/concepts/identity-data-model">Identity Data Model</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Identity Credentials</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/next/concepts/credentials">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/next/concepts/credentials/username-email-password">Username / Email &amp; Password</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/kratos/docs/next/concepts/credentials/openid-connect-oidc-oauth2">Social Sign In, OpenID Connect, and OAuth2</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/next/concepts/browser-redirect-flow-completion">HTTP Redirection Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/next/concepts/email-sms">Out-of-band communication via E-Mail and SMS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/next/concepts/rest-api">REST API Design</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/next/concepts/federation">Federation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/next/concepts/security">Threat Models and Security Profiles</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Self Service (End-User)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/self-service">Concepts and Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/self-service/flows/user-registration">User Registration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/self-service/flows/user-login">User Login</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/self-service/flows/user-settings">User Settings and Profile Updates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/self-service/flows/account-recovery">Account Recovery and Password Reset</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/self-service/flows/verify-email-account-activation">Email and Phone Verification and Account Activation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/self-service/flows/user-logout">User Logout</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/self-service/flows/user-facing-errors">User-Facing Errors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/self-service/flows/2fa-mfa-multi-factor-authentication">MFA / 2FA</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/self-service/hooks">Hooks</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Administration</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/admin/managing-users-identities">Managing Users and Identities</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/sign-in-with-github-google-facebook-linkedin">Sign in with GitHub, GitLab, Google, Facebook, LinkedIn, Microsoft ...</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/login-session">Configuring And Checking for Login Sessions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/configuring-cookies">Configuring Cookies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/multi-domain-cookies">Getting URLs and Cookies to Work on Multi-Domains</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/setting-up-cors">Setting up Cross-origin resource sharing (CORS)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/account-recovery-password-reset">Setting up Account Recovery and Password Reset</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/account-activation-email-verification">Setting up Account Activation and E-Mail Verification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/zero-trust-iap-proxy-identity-access-proxy">Zero Trust with IAP Proxy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/multi-tenancy-multitenant">Multitenancy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/secret-key-rotation">Secret and Key Rotation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/high-availability-ha">High Availability</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/docker">Docker Images</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/guides/setting-up-password-hashing-parameters">Setting up Argon2 Password Hashing Parameters</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/reference/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/reference/json-schema-json-paths">JSON Schema and JSON Paths</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/reference/html-forms">HTML Form Parser</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/reference/api">REST API</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Command Line Interface (CLI)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos">kratos</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-courier">kratos courier</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-courier-watch">kratos courier watch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-hashers">kratos hashers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-hashers-argon2">kratos hashers argon2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-hashers-argon2-calibrate">kratos hashers argon2 calibrate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-hashers-argon2-hash">kratos hashers argon2 hash</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-hashers-argon2-load-test">kratos hashers argon2 load-test</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-identities">kratos identities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-identities-delete">kratos identities delete</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-identities-get">kratos identities get</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-identities-import">kratos identities import</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-identities-list">kratos identities list</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-identities-patch">kratos identities patch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-identities-validate">kratos identities validate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-jsonnet">kratos jsonnet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-jsonnet-format">kratos jsonnet format</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-jsonnet-lint">kratos jsonnet lint</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-migrate">kratos migrate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-migrate-sql">kratos migrate sql</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-remote">kratos remote</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-remote-status">kratos remote status</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-remote-version">kratos remote version</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-serve">kratos serve</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/cli/kratos-version">kratos version</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Debug &amp; Help</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/debug/csrf">Common Cookie and CSRF Pitfalls</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/debug/performance-out-of-memory-password-hashing-argon2">Performance Problems and Out Of Memory Panics Caused by Password Hashing</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">SDKs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/sdk">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Development</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/milestones">Milestones and Roadmap</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Further Reading</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/further-reading/comparison">Comparison</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/next/further-reading/kratos-video-tutorials">Video Tutorials</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Ory Keto</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Introduction</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/install" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Installation</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/implemented-planned-features" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Implemented and Planned Features</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/performance" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Performance</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/quickstart" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Quickstart: Cat Videos Example</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/concepts/relation-tuples" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Relation Tuples</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/concepts/namespaces" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Namespaces</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/concepts/objects" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Objects</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/concepts/subjects" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Subjects</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/concepts/graph-of-relations" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">The Graph of Relations</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/concepts/api-overview" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">API Overview</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/concepts/internal-algorithms" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Internal Algorithms</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/concepts/snaptokens-evaluation-consistency" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Consistency Guarantees provided by Snaptokens</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Guides</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/secure" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Secure</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/guides/simple-access-check-guide" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Check whether a User has Access to Something</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/guides/list-api-display-objects" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">List API: Display all Objects a User has Access to</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/guides/expand-api-display-who-has-access" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Expand API: Display who has Access to an Object</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/guides/production" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Going to Production</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/guides/rbac" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Role Based Access Control (RBAC)</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/guides/access-control-inheritance" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Inheriting Access Control Rules</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/guides/access-control-list-design-best-practices" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Best Practices for Designing your Access Control List</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Examples</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/examples/olymp-file-sharing" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Basic: Olymp Library</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Reference</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/reference/configuration" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Configuration</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/reference/rest-api" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">REST API</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/reference/proto-api" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Protocol Buffers API</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Command Line Interface (CLI)</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-check" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto check</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-expand" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto expand</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-migrate" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto migrate</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-migrate-down" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto migrate down</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-migrate-status" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto migrate status</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-migrate-up" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto migrate up</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-namespace" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto namespace</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-namespace-migrate" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto namespace migrate</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-namespace-migrate-down" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto namespace migrate down</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-namespace-migrate-status" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto namespace migrate status</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-namespace-migrate-up" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto namespace migrate up</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-namespace-validate" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto namespace validate</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-relation-tuple" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto relation-tuple</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-relation-tuple-create" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto relation-tuple create</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-relation-tuple-delete" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto relation-tuple delete</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-relation-tuple-get" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto relation-tuple get</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-relation-tuple-parse" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto relation-tuple parse</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-serve" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto serve</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-status" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto status</a></li><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/cli/keto-version" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">keto version</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">SDKs</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/sdk/index" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Development</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/keto/docs/next/milestones" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Milestones and Roadmap</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Ory Hydra</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">ORY Hydra</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/5min-tutorial" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">5 Minute Tutorial</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/install" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Installation</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/contributing" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Contribution Guidelines</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/concepts/before-oauth2" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Do You Need OAuth2?</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/concepts/oauth2" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">OAuth 2.0</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/concepts/openid-connect-oidc" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">OpenID Connect (OIDC)</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/concepts/login" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Login Flow</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/concepts/consent" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Consent Flow</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/concepts/logout" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Logout Flow</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/jwks" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">JSON Web Key Sets</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/limitations" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Limitations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Guides</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Implementing the User Interface</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/login" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Implementing the Login Endpoint</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/consent" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Implementing the Consent Endpoint &amp; UI</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/logout" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Implementing the Logout Endpoint &amp; UI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Operations</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/configure-deploy" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Run ORY Hydra in Docker</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/dependencies-environment" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Database Setup and Configuration</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/production" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Preparing for Production</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/tracing" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Distributed Tracing</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/secrets-key-rotation" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Secrets and Key Rotation</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/kubernetes-helm-chart" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Kubernetes Helm Chart</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/ssl-https-tls" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">SSL/TLS, HTTPS, Self-Signed Certificates</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/cookies" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Configuring Cookies</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/scaling-hydra" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Scaling ORY Hydra</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/cors" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Setting up Cross-origin resource sharing (CORS)</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/gitlab" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Gitlab Hydra integration</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/migrating-from-mitreid" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Migrating from MITREid</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/merge-multiple-db-secrets" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Merge multiple Hydra instances with different system.secrets</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">OAuth2 &amp; OpenID Connect</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/advanced" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Advanced OAuth2 and OpenID Connect Flows</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/oauth2-clients" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Creating OAuth 2.0 Clients</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/common-oauth2-openid-connect-flows" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Using Common OAuth2 and OpenID Connect Flows</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/using-oauth2" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Using OAuth2</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/token-expiration" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Configuring Expiration</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/oauth2-token-introspection" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">OAuth 2.0 Token Introspection</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/guides/oauth2-public-spa-mobile" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Mobile &amp; Browser (Single-Page-App) with OAuth2</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Reference</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/reference/configuration" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Configuration</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/reference/api" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">REST API</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Command Line Interface (CLI)</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-clients" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra clients</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-clients-create" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra clients create</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-clients-delete" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra clients delete</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-clients-get" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra clients get</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-clients-import" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra clients import</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-clients-import" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra clients import</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-clients-import" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra clients import</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-clients-import" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra clients import</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-clients-list" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra clients list</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-clients-update" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra clients update</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-janitor" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra janitor</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-keys" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra keys</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-keys-create" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra keys create</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-keys-delete" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra keys delete</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-keys-get" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra keys get</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-keys-import" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra keys import</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-migrate" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra migrate</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-migrate-sql" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra migrate sql</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-serve" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra serve</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-serve-admin" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra serve admin</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-serve-all" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra serve all</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-serve-public" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra serve public</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-token" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra token</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-token-client" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra token client</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-token-delete" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra token delete</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-token-flush" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra token flush</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-token-introspect" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra token introspect</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-token-revoke" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra token revoke</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-token-user" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra token user</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/cli/hydra-version" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">hydra version</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Debug &amp; Help</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/debug" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Common Problems</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/debug/csrf" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Common CSRF Pitfalls</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/debug/config" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Debug Configuration</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/debug/token-endpoint-auth-method" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Wrong Token Endpoint Auth Method</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/debug/logout" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Logout not Working as Expected</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/faq" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">FAQ</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">SDKs</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/sdk" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Software Development Kits (SDKs)</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/sdk/go" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Go</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/sdk/js" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">JavaScript</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/sdk/php" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">PHP</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Development</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/milestones" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Milestones and Roadmap</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Further Reading</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/case-study" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">OAuth 2.0 Case Study</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/benchmark" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Benchmarks</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs/next/security-architecture" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Security Architecture</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Ory Oathkeeper</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Introduction</a></li><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/install" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Installation</a></li><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/contributing" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Contribution Guidelines</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Core Concepts</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/api-access-rules" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">API Access Rules</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Handlers</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/pipeline" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Access Rule Pipeline</a></li><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/pipeline/authn" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Authenticators</a></li><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/pipeline/authz" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Authorizers</a></li><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/pipeline/mutator" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Mutators</a></li><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/pipeline/error" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Error Handlers</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Guides</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/configure-deploy" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Configure and Deploy</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Reference</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/reference/configuration" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Configuration</a></li><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/reference/api" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">REST API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">SDKs</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/sdk" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">ORY Oathkeeper SDKs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Development</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs/next/milestones" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Milestones and Roadmap</a></li></ul></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Ory Kratos <strong>Next</strong> version.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/kratos/docs/concepts/credentials/openid-connect-oidc-oauth2">latest version</a></strong> (v0.6).</div></div><div class="docItemContainer_33ec"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_3a4h">Social Sign In, OpenID Connect, and OAuth2</h1></header><div class="markdown"><p>The <code>oidc</code> method uses OpenID Connect, or OAuth2 where OpenID Connect is not
supported, to authenticate identities using a third-party identity provider,
such as Google, Microsoft, GitHub - or any other OAuth2 / OpenID Connect
provider (for example <a href="https://www.ory.sh/hydra" target="_blank" rel="noopener noreferrer">Ory Hydra</a>). &quot;Social Sign In&quot;
or &quot;Sign in with ...&quot; are common aliases for this flow.</p><p>This strategy expects that you&#x27;ve set up your
<a href="/kratos/docs/next/concepts/identity-data-model">Default Identity JSON Schema</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="configuration"></a>Configuration<a class="hash-link" href="#configuration" title="Direct link to heading">#</a></h2><p>You can configure multiple OAuth2 / OpenID Connect providers. First, enable the
<code>oidc</code> method:</p><div class="codeBlockContainer_K1bP"><div style="color:rgb(36, 41, 46);background-color:#f6f8fa" class="codeBlockTitle_eoMF">path/to/my/kratos/config.yml</div><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token comment" style="color:rgb(106, 153, 85)"># $ kratos -c path/to/my/kratos/config.yml serve</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">selfservice</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">methods</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">oidc</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token key atrule">enabled</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(0, 92, 197)">true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Next, you need to configure the providers you want to use (e.g. GitHub).</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>The most important configuration key is the provider&#x27;s <code>id</code>. Once set, you
should never remove or change that <code>id</code>. Otherwise, your existing users will no
longer be able to sign in.</p></div></div><p>The provider configuration looks as follows:</p><div class="codeBlockContainer_K1bP"><div style="color:rgb(36, 41, 46);background-color:#f6f8fa" class="codeBlockTitle_eoMF">path/to/my/kratos/config.yml</div><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token comment" style="color:rgb(106, 153, 85)"># $ kratos -c path/to/my/kratos/config.yml serve</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">selfservice</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">methods</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">oidc</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token key atrule">config</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token key atrule">providers</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)"># REQUIRED - The ID of the provider.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># DO NOT change this once this is in use.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> github</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># REQUIRED - The provider you would like to use. Ory Kratos comes with some predefined providers to make</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># life easier for you, but you can always opt for the &quot;generic&quot; provider, which works</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># with any Certified OpenID Connect Provider (Google, Ory Hydra, ...):</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)">#</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)">#   provider: github</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)">#   provider: google</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)">#   .... more to come</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)">#</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">provider</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> generic</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># REQUIRED - See section &quot;Data Mapping with Jsonnet&quot; for more information.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">mapper_url</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">//mydomain.com/github.schema.json</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># The OAuth2 / OpenID Connect provider will provide you with a OAuth2 Client ID and Client Secret. You need</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># to set them here:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">client_id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">...</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">client_secret</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">...</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># What scope to request. Usually, this would be something like &quot;profile&quot; or &quot;email&quot;.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># Please check the documentation of the OAuth2 / OpenID Connect provider to see what&#x27;s allowed here.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">scope</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> email</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># issuer_url is the OpenID Connect Server URL. You can leave this empty if `provider` is not set to `generic`.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># If set, neither `auth_url` nor `token_url` are required.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">issuer_url</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">//openid</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">provider/</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># auth_url is the authorize url, typically something like: https://example.org/oauth2/auth</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># Should only be used when the OAuth2 / OpenID Connect server is not supporting OpenID Connect Discovery and when</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># `provider` is set to `generic`.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">auth_url</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">//openid</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">provider/oauth2/auth</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># token_url is the token url, typically something like: https://example.org/oauth2/token</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># Should only be used when the OAuth2 / OpenID Connect server is not supporting OpenID Connect Discovery and when</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># `provider` is set to `generic`.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">token_url</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">//openid</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">connect</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">provider/oauth2/token</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># requested_claims json object that specifies claims and optionally their properties which should</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># be included in the id_token or returned from the UserInfo Endpoint.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)">#</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># More information: https://openid.net/specs/openid-connect-core-1_0.html#ClaimsParameter</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">requested_claims</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">              </span><span class="token key atrule">userinfo</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                </span><span class="token key atrule">given_name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                  </span><span class="token key atrule">essential</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(0, 92, 197)">true</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                </span><span class="token key atrule">nickname</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token null important">null</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                </span><span class="token key atrule">email</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                  </span><span class="token key atrule">essential</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(0, 92, 197)">true</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                </span><span class="token key atrule">email_verified</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                  </span><span class="token key atrule">essential</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(0, 92, 197)">true</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                </span><span class="token key atrule">picture</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token null important">null</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                </span><span class="token key atrule">http://example/info/claims/groups</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token null important">null</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">              </span><span class="token key atrule">id_token</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                </span><span class="token key atrule">auth_time</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                  </span><span class="token key atrule">essential</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(0, 92, 197)">true</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                </span><span class="token key atrule">acr</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                  </span><span class="token key atrule">values</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">[</span><span class="token string">&#x27;urn:mace:incommon:iap:silver&#x27;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">]</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                </span><span class="token key atrule">sub</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                  </span><span class="token key atrule">value</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token number">248289761001</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>It is very important to add the &quot;session&quot; hook to the after oidc registration
hooks. Otherwise your users need to use the login flow again to be able to get a
session.</p><div class="codeBlockContainer_K1bP"><div style="color:rgb(36, 41, 46);background-color:#f6f8fa" class="codeBlockTitle_eoMF">path/to/my/kratos/config.yml</div><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token comment" style="color:rgb(106, 153, 85)"># $ kratos -c path/to/my/kratos/config.yml serve</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">selfservice</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">flows</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">registration</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token key atrule">after</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token key atrule">oidc</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          </span><span class="token key atrule">hooks</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> </span><span class="token key atrule">hook</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> session</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="data-mapping-with-jsonnet"></a>Data Mapping with Jsonnet<a class="hash-link" href="#data-mapping-with-jsonnet" title="Direct link to heading">#</a></h2><p>The data provided by Google, GitHub, Facebook, and others will vary in payloads.
One service might include the <code>website</code> or <code>phone_number</code> while another might
not.</p><p>Therefore you need to specify how this data maps to the identity&#x27;s traits. You
can do that by writing a <a href="/kratos/docs/next/reference/jsonnet">Jsonnet Code Snippet</a> and
referencing that in your Ory Kratos config file:</p><div class="codeBlockContainer_K1bP"><div style="color:rgb(36, 41, 46);background-color:#f6f8fa" class="codeBlockTitle_eoMF">path/to/my/kratos/config.yml</div><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token comment" style="color:rgb(106, 153, 85)"># $ kratos -c path/to/my/kratos/config.yml serve</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">selfservice</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">methods</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">oidc</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token key atrule">config</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token key atrule">providers</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> </span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> github</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># ...</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">mapper_url</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> file</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">//path/to/my/kratos/github.data</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">mapper.jsonnet</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># You can also load this from a HTTP(S) source:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">mapper_url</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">//domain.com/path/to/my/kratos/github.data</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">mapper.jsonnet</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token comment" style="color:rgb(106, 153, 85)"># Or inline it using base64 encoding:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token key atrule">mapper_url</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> base64</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">//bG9jYWwgY2xhaW1zID0gc3RkLmV4dFZhcignY2xhaW1zJyk7CmlmIHN0ZC5sZW5ndGgoY2xhaW1zLnN1YikgPT0gMCB0aGVuCiAgZXJyb3IgJ2NsYWltIHN1YiBub3Qgc2V0JwplbHNlCiAgewogICAgaWRlbnRpdHk6IHsKICAgICAgdHJhaXRzOiB7CiAgICAgICAgZW1haWw6IGNsYWltcy5zdWIsCiAgICAgICAgW2lmICJ3ZWJzaXRlIiBpbiBjbGFpbXMgdGhlbiAid2Vic2l0ZSIgZWxzZSBudWxsXTogY2xhaW1zLndlYnNpdGUsCiAgICAgIH0sCiAgICB9LAogIH0=</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Ory Kratos adds an external variable called <code>claims</code> to the data mapper. It
contains all the claims (e.g. username, email, ...) for the OpenID Connect or
OAuth2 Provider. Keep in mind that the claims will vary per provider and per
flow - depending on what permissions the user grants you (e.g. &quot;App XYZ cannot
see my private email&quot;). Your Jsonnet code must return a JSON object that looks
like:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json5"><div tabindex="0" class="prism-code language-json5 codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">{</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  identity: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    traits: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      /* ... */</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>For more information on Jsonnet check out our
<a href="/kratos/docs/next/reference/jsonnet">Jsonnet Documentation</a>.</p><p>To debug Jsonnet payloads, use the <code>--dev</code> flag and set <code>log.level</code> to <code>debug</code>
(e.g. <code>LOG_LEVEL=debug kratos serve --dev</code>). Logs with detailed payloads will be
emitted once you complete an OpenID Connect / OAuth2 login or registration.</p></div></div><p>The Jsonnet code snippet</p><div class="codeBlockContainer_K1bP"><div style="color:rgb(36, 41, 46);background-color:#f6f8fa" class="codeBlockTitle_eoMF">path/to/my/kratos/github.data-mapper.jsonnet</div><div class="codeBlockContent_hGly jsonnet"><div tabindex="0" class="prism-code language-jsonnet codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"># claims contains all the data sent by the upstream.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">local claims = std.extVar(&#x27;claims&#x27;);</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">{</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  identity: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    traits: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      email: claims.email, // If email is not set the Jsonnet snippet will fail with an error.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      [if &quot;website&quot; in claims then &quot;website&quot; else null]: claims.website, // The website claim is optional.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>returns</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token property" style="color:rgb(3, 47, 98)">&quot;identity&quot;</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token property" style="color:rgb(3, 47, 98)">&quot;traits&quot;</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token property" style="color:rgb(3, 47, 98)">&quot;email&quot;</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(3, 47, 98)">&quot;foo@ory.sh&quot;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token property" style="color:rgb(3, 47, 98)">&quot;website&quot;</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(3, 47, 98)">&quot;https://www.ory.sh&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>when the ID Token body (or the OAuth2 equivalent) returned by the OpenID Connect
provider contains:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token property" style="color:rgb(3, 47, 98)">&quot;sub&quot;</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(3, 47, 98)">&quot;some-identity-id-4hA8gk&quot;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token property" style="color:rgb(3, 47, 98)">&quot;email&quot;</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(3, 47, 98)">&quot;foo@ory.sh&quot;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token property" style="color:rgb(3, 47, 98)">&quot;website&quot;</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(3, 47, 98)">&quot;https://www.ory.sh&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>which is then being used for the identity&#x27;s traits.</p><p>The <code>sub</code> field, which is returned by OpenID Connect and OAuth2 servers alike is
used as the primary credential identifier for the provider. This allows Ory
Kratos to link the identity to the &quot;social sign in profile&quot; for future login
flows:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token comment" style="color:rgb(106, 153, 85)"># This is the YAML representation of an identity</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token string">&#x27;9f425a8d-7efc-4768-8f23-7647a74fdf13&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">credentials</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">oidc</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> oidc</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">identifiers</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> example</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">some</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">identity</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">4hA8gk</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">config</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> </span><span class="token key atrule">provider</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> example</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token key atrule">identifier</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> some</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">identity</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain">4hA8gk</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">schema_url</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">//foo.bar.com/person.schema.json </span><span class="token comment" style="color:rgb(106, 153, 85)"># This comes from the default identity schema url.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">traits</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">email</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> foo@ory.sh </span><span class="token comment" style="color:rgb(106, 153, 85)"># This is extracted from `username` using</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">website</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">//www.ory.sh </span><span class="token comment" style="color:rgb(106, 153, 85)"># This is extracted from `username` using</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="external-variable-claims"></a>External Variable <code>claims</code><a class="hash-link" href="#external-variable-claims" title="Direct link to heading">#</a></h3><p>The <code>std.ExtVar(&#x27;claims&#x27;)</code> object has the following structure and keys
available:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">package</span><span class="token plain"> oidc</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token keyword" style="color:#e3116c">type</span><span class="token plain"> Claims </span><span class="token keyword" style="color:#e3116c">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    Issuer              </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;iss,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    Subject             </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;sub,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    Name                </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;name,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    GivenName           </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;given_name,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    FamilyName          </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;family_name,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    LastName            </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;last_name,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    MiddleName          </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;middle_name,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    Nickname            </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;nickname,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    PreferredUsername   </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;preferred_username,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    Profile             </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;profile,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    Picture             </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;picture,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    Website             </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;website,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    Email               </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;email,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    EmailVerified       </span><span class="token builtin" style="color:#e3116c">bool</span><span class="token plain">   </span><span class="token string">`json:&quot;email_verified,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    Gender              </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;gender,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    Birthdate           </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;birthdate,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    Zoneinfo            </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;zoneinfo,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    Locale              </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;locale,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    PhoneNumber         </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;phone_number,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    PhoneNumberVerified </span><span class="token builtin" style="color:#e3116c">bool</span><span class="token plain">   </span><span class="token string">`json:&quot;phone_number_verified,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    UpdatedAt           </span><span class="token builtin" style="color:#e3116c">int64</span><span class="token plain">  </span><span class="token string">`json:&quot;updated_at,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    HD                  </span><span class="token builtin" style="color:#e3116c">string</span><span class="token plain"> </span><span class="token string">`json:&quot;hd,omitempty&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="identity-traits-validation-and-data-completion"></a>Identity Traits Validation and Data Completion<a class="hash-link" href="#identity-traits-validation-and-data-completion" title="Direct link to heading">#</a></h2><p>Sometimes the data provided by OpenID Connect or OAuth2 Providers is not enough.
A common example is asking the user to consent to the terms of service. No
OpenID Connect or OAuth2 provider will be able to give you this information
because these are your terms. Another example would be a user not agreeing to
share his/her email address with you when authorizing your OAuth2 app.</p><p>If such a validation error occurs, the user will be redirected to the
Registration UI. The Registration Flow includes all the valid and invalid
fields:</p><img alt="Missing website field in OpenID Connect / OAuth2 provider claims" src="/kratos/docs/img/docs/oidc-missing.png"><p>When submitting the form again, the data provided by the user and the data
coming from the OpenID Connect / OAuth2 provider will be merged. This process
repeats itself</p><img alt="Invalid website field in OpenID Connect / OAuth2 provider claims" src="/kratos/docs/img/docs/oidc-incomplete.png"><p>until the identity&#x27;s traits are valid against the defined JSON Schema.</p><p>For more information on this flow (network flow, examples, UI, ...) head over to
the
<a href="/kratos/docs/next/self-service/flows/user-registration">OpenID Connect and OAuth2 Self-Service Method Documentation</a>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ory/kratos/edit/master/docs/docs/concepts/credentials/openid-connect-oidc-oauth2.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-04-28T15:36:37.000Z" class="lastUpdatedDate_1WI_">4/28/2021</time> by <strong>aeneasr</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/kratos/docs/next/concepts/credentials/username-email-password"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Username / Email &amp; Password</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/kratos/docs/next/concepts/browser-redirect-flow-completion"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">HTTP Redirection Configuration Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuration" class="table-of-contents__link">Configuration</a></li><li><a href="#data-mapping-with-jsonnet" class="table-of-contents__link">Data Mapping with Jsonnet</a><ul><li><a href="#external-variable-claims" class="table-of-contents__link">External Variable <code>claims</code></a></li></ul></li><li><a href="#identity-traits-validation-and-data-completion" class="table-of-contents__link">Identity Traits Validation and Data Completion</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.ory.sh/imprint" target="_blank" rel="noopener noreferrer" class="footer__link-item">Imprint</a></li><li class="footer__item"><a href="https://www.ory.sh/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://www.ory.sh/tos" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2021 ORY GmbH</div></div></div></footer></div>
<script src="/kratos/docs/assets/js/styles.6a51c5d5.js"></script>
<script src="/kratos/docs/assets/js/runtime~main.24d71ae5.js"></script>
<script src="/kratos/docs/assets/js/main.9e51062d.js"></script>
<script src="/kratos/docs/assets/js/2.6e5ecd5e.js"></script>
<script src="/kratos/docs/assets/js/3.d017d23c.js"></script>
<script src="/kratos/docs/assets/js/b8d7c5e6.53a01579.js"></script>
<script src="/kratos/docs/assets/js/485.6de6eee3.js"></script>
<script src="/kratos/docs/assets/js/935f2afb.6adaf6fe.js"></script>
<script src="/kratos/docs/assets/js/17896441.d4b583b0.js"></script>
<script src="/kratos/docs/assets/js/56ff8f6b.9bd8b87f.js"></script>
<noscript><p><img src="//sqa-web.ory.sh/np.php?idsite=2&amp;rec=1" style="border:0;" alt=""></p></noscript></body>
</html>