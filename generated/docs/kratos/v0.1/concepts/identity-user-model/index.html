<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.73">
<script>var _paq=window._paq=window._paq||[];_paq.push(["setDocumentTitle",document.domain+"/"+document.title]),_paq.push(["setCookieDomain","*.ory.sh"]),_paq.push(["disableCookies"]),_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){var e="//sqa-web.ory.sh/";_paq.push(["setTrackerUrl",e+"np.php"]),_paq.push(["setSiteId","2"]);var a=document,p=a.createElement("script"),t=a.getElementsByTagName("script")[0];p.type="text/javascript",p.async=!0,p.src=e+"js/np.js",t.parentNode.insertBefore(p,t)}()</script>
<link rel="search" type="application/opensearchdescription+xml" title="Ory Kratos" href="/kratos/docs/opensearch.xml"><title data-react-helmet="true">Identity and User Model | Ory Kratos</title><meta data-react-helmet="true" property="og:url" content="https://www.ory.sh//kratos/docs/v0.1/concepts/identity-user-model"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="v0.1"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-v0.1"><meta data-react-helmet="true" property="og:title" content="Identity and User Model | Ory Kratos"><meta data-react-helmet="true" name="description" content="An identity (&quot;user&quot;, &quot;user account&quot;, &quot;account&quot;, &quot;subject&quot;) is the &quot;who&quot; of a"><meta data-react-helmet="true" property="og:description" content="An identity (&quot;user&quot;, &quot;user account&quot;, &quot;account&quot;, &quot;subject&quot;) is the &quot;who&quot; of a"><link data-react-helmet="true" rel="shortcut icon" href="/kratos/docs/img/favico.png"><link data-react-helmet="true" rel="canonical" href="https://www.ory.sh//kratos/docs/v0.1/concepts/identity-user-model"><link data-react-helmet="true" rel="alternate" href="https://www.ory.sh//kratos/docs/v0.1/concepts/identity-user-model" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://www.ory.sh//kratos/docs/v0.1/concepts/identity-user-model" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/kratos/docs/assets/css/styles.d2c68386.css">
<link rel="preload" href="/kratos/docs/assets/js/styles.6a51c5d5.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/runtime~main.367d0d09.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/main.9e51062d.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/2.6e5ecd5e.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/3.d017d23c.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/b8d7c5e6.53a01579.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/485.6de6eee3.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/5f8a740b.8d907d27.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/17896441.d4b583b0.js" as="script">
<link rel="preload" href="/kratos/docs/assets/js/57d309c1.b0511cff.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.ory.sh/kratos" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/kratos/docs/img/logo-kratos.svg" alt="Ory Kratos" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/kratos/docs/img/logo-kratos.svg" alt="Ory Kratos" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a><a href="https://www.ory.sh/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Home</a><a href="https://www.ory.sh/blog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ory/kratos/discussions" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discussions</a><a href="https://www.ory.sh/chat" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Slack</a><a href="https://github.com/ory/kratos" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/kratos/docs/v0.1/">v0.1</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/kratos/docs/next/">Next</a></li><li><a class="dropdown__link" href="/kratos/docs/">v0.6</a></li><li><a class="dropdown__link" href="/kratos/docs/v0.5/">v0.5</a></li><li><a class="dropdown__link" href="/kratos/docs/v0.4/concepts/identity-user-model">v0.4</a></li><li><a class="dropdown__link" href="/kratos/docs/v0.3/concepts/identity-user-model">v0.3</a></li><li><a class="dropdown__link" href="/kratos/docs/v0.2/concepts/identity-user-model">v0.2</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/kratos/docs/v0.1/concepts/identity-user-model">v0.1</a></li><li><a class="dropdown__link" href="/kratos/docs/versions">All versions</a></li></ul></div><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://www.ory.sh/kratos" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img src="/kratos/docs/img/logo-kratos.svg" alt="Ory Kratos" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/kratos/docs/img/logo-kratos.svg" alt="Ory Kratos" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/" target="_blank" rel="noopener noreferrer" class="menu__link">Home</a></li><li class="menu__list-item"><a href="https://www.ory.sh/blog" target="_blank" rel="noopener noreferrer" class="menu__link">Blog</a></li><li class="menu__list-item"><a href="https://github.com/ory/kratos/discussions" target="_blank" rel="noopener noreferrer" class="menu__link">Discussions</a></li><li class="menu__list-item"><a href="https://www.ory.sh/chat" target="_blank" rel="noopener noreferrer" class="menu__link">Slack</a></li><li class="menu__list-item"><a href="https://github.com/ory/kratos" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/next/">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/">v0.6</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/v0.5/">v0.5</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/v0.4/concepts/identity-user-model">v0.4</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/v0.3/concepts/identity-user-model">v0.3</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/v0.2/concepts/identity-user-model">v0.2</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/kratos/docs/v0.1/concepts/identity-user-model">v0.1</a></li><li class="menu__list-item"><a class="menu__link" href="/kratos/docs/versions">All versions</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a href="https://www.ory.sh/kratos" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_3h0W"><img src="/kratos/docs/img/logo-kratos.svg" alt="Ory Kratos" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/kratos/docs/img/logo-kratos.svg" alt="Ory Kratos" class="themedImage_1VuW themedImage--dark_hz6m"></a><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/quickstart">Quickstart</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/install">Installation</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/v0.1/concepts/index">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/v0.1/concepts/ui-user-interface">User Interface</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/kratos/docs/v0.1/concepts/identity-user-model">Identity and User Model</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/v0.1/concepts/credentials">Credentials</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/v0.1/concepts/email-sms">Out-of-band communication via E-Mail and SMS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/v0.1/concepts/federation">Federation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/kratos/docs/v0.1/concepts/security">Threat Models and Security Profiles</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Self Service Flows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/self-service/flows/index">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/self-service/flows/user-login-user-registration">User Login and User Registration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/self-service/flows/user-logout">User Logout</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/self-service/flows/user-profile-management">user-profile-management</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/self-service/flows/password-reset-account-recovery">Account Recovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/self-service/flows/user-facing-errors">User-Facing Errors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/self-service/flows/verify-email-account-activation">Email and Phone Verification and Account Activation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Self Service Strategies</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/self-service/strategies/index">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/self-service/strategies/username-email-password">Username or Email and Password</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/self-service/strategies/openid-connect-social-sign-in-oauth2">Social Sign In with OpenID Connect and OAuth2</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Self Service Jobs and Workflows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/self-service/workflows/jobs/before">Before Jobs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/self-service/workflows/jobs/after">After Jobs</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/reference/configuration">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/reference/json-schema-json-paths">JSON Schema and JSON Paths</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/reference/html-forms">HTML Form Parser</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/reference/api">REST API</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">SDKs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/sdk/index">Overview</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Further Reading</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/kratos/docs/v0.1/further-reading/comparison">Comparison</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ORY Hydra</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/hydra" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Home</a></li><li class="menu__list-item"><a href="https://www.ory.sh/hydra/docs" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Docs</a></li><li class="menu__list-item"><a href="https://github.com/ory/hydra" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">GitHub</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ORY Oathkeeper</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Home</a></li><li class="menu__list-item"><a href="https://www.ory.sh/oathkeeper/docs" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Docs</a></li><li class="menu__list-item"><a href="https://github.com/ory/oathkeeper" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">GitHub</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">ORY Keto</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.ory.sh/Keto" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Home</a></li><li class="menu__list-item"><a href="https://www.ory.sh/Keto/docs" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">Docs</a></li><li class="menu__list-item"><a href="https://github.com/ory/Keto" target="_blank" rel="noopener noreferrer" class="menu__link menuLinkExternal_1OhN" tabindex="-1">GitHub</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for Ory Kratos <strong>v0.1</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/kratos/docs/">latest version</a></strong> (v0.6).</div></div><div class="docItemContainer_33ec"><article><div><span class="badge badge--secondary">Version: v0.1</span></div><header><h1 class="docTitle_3a4h">Identity and User Model</h1></header><div class="markdown"><p>An identity (&quot;user&quot;, &quot;user account&quot;, &quot;account&quot;, &quot;subject&quot;) is the &quot;who&quot; of a
software system. It can be a customer, an employee, a user, a contractor, and
even a programmatic identity such as an IoT device, an application, or some
other type of &quot;robot.&quot;</p><p>Identities take different roles sometimes for instance called &quot;Account Recovery&quot;
or &quot;User Account&quot; since these are commonly used terms. In ORY Kratos an identity
is always called an &quot;Identity,&quot; and it always exposed as <code>identity</code> in the API
Endpoints, request and response payloads.</p><p>The following examples uses YAML for improved readability. However the API
payload is usually in JSON format. An `identity has the following properties:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token comment" style="color:rgb(106, 153, 85)"># A universally unique ID that is generated when the identity is created and that cannot be changed or updated</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># at a later stage.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token string">&#x27;9f425a8d-7efc-4768-8f23-7647a74fdf13&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># This section represents all the credentials associated with this identity. It is further explained in section &quot;Credentials&quot;.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">credentials</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">password</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> password</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">identifiers</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> john.doe@acme.com</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> johnd@ory.sh</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">config</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token key atrule">hashed_password</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">...</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">oidc</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> oidc</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">identifiers</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> google</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">j8kf7a3</span><span class="token punctuation" style="color:rgb(36, 41, 46)">...</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> facebook</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">83475891</span><span class="token punctuation" style="color:rgb(36, 41, 46)">...</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">config</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> </span><span class="token key atrule">provider</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> google</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token key atrule">identifier</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> j8kf7a3</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> </span><span class="token key atrule">provider</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> facebook</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token key atrule">identifier</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token number">83475891</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># This is the JSON Schema ID used for validating the identities&#x27;s traits.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">traits_schema_id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> default</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Could also be another schema:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># traits_schema_id: customer</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Traits represent information about the identity, such as the first or last name. The traits content is completely</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># up to you and will be validated using the JSON Schema at `traits_schema_url`.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token key atrule">traits</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># These are just examples</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">email</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> office@ory.sh</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">first</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> Aeneas</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">last</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> Rekkas</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">favorite_animal</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> Dog</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">accepted_tos</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(0, 92, 197)">true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="identity-traits-and-json-schemas"></a>Identity Traits and JSON Schemas<a class="hash-link" href="#identity-traits-and-json-schemas" title="Direct link to heading">#</a></h2><p>An identity may have one or more traits. Traits can be modified by the identity
itself e.g. as part of the registration or profile update process as well as
anyone having access to ORY Krato&#x27;s Admin API.</p><p>Traits tell ORY Kratos that a field has a particular meaning. For example, trait
<code>email</code> is a good candidate for the field &quot;Email + Password&quot; for signing up or
logging in.</p><p>To validate traits Ory Kratos uses
<a href="https://json-schema.org/learn/getting-started-step-by-step.html" target="_blank" rel="noopener noreferrer">JSON Schema</a>
adding a small extension &quot;Vocabulary&quot; that allows you to tell ORY Kratos that a
specific trait adds some specific meaning to the standard JSON Schema .</p><p>Each identity can, theoretically, have a different Traits Schema. This is useful
in the following situations:</p><ul><li>there is more than one type of identity in the system for instance customers,
support or staff;</li><li>the system includes both users and robots sometimes also known as named
service accounts;</li><li>the system needs to ingest another company&#x27;s identity model, and</li><li>the system&#x27;s identity model changes or grows over time and requires
versioning.</li></ul><p>The following example illustrates a usage scenario with three types of
identities: Regular customers,
<a href="https://en.wikipedia.org/wiki/Grandfather_clause" target="_blank" rel="noopener noreferrer">grandfather accounts</a>, and
Service Accounts (Microsoft provides
<a href="https://docs.microsoft.com/en-us/windows/security/identity-protection/access-control/service-accounts" target="_blank" rel="noopener noreferrer">Service Accounts</a>).
There would be one JSON Schema per type of identity:</p><ul><li>Customers: <code>http://mydomain.com/schemas/v1/customer.schema.json</code></li><li>Grandfather Accounts: <code>http://mydomain.com/schemas/v2/customer.schema.json</code></li><li>Service Accounts: <code>http://mydomain.com/schemas/service-account.schema.json</code></li></ul><p>ORY Kratos expects the JSON Schemas in its configuration file:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token key atrule">identity</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">traits</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># This will be the default JSON Schema. If  `traits_schema_id` is empty when creating an identity using the</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># Admin API, or a user signs up using a selfservice flow, this schema will be used.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">#</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># This is a required configuration field!</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">default_schema_url</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">//foo.bar.com/person.schema.json</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># Optionally define additional schemas here:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">schemas</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)"># When creating an identity that uses this schema, `traits_schema_id: customer` would be set for that identity.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(36, 41, 46)">-</span><span class="token plain"> </span><span class="token key atrule">id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> customer</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token key atrule">url</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain">//foo.bar.com/customer.schema.json</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>ORY Kratos enforces each of these schemas when at an identity&#x27;s creation or
update. The employed business logic must be able to distingush between these
three identities. The switch statement is used in this case. For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token comment" style="color:rgb(106, 153, 85)">// This is an example program that can deal with all three identities</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// session := ...</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token keyword" style="color:#e3116c">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">session</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token plain">Identity</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token plain">TraitsSchemaURL</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token keyword" style="color:#e3116c">case</span><span class="token plain"> </span><span class="token string">&quot;customer&quot;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token keyword" style="color:#e3116c">case</span><span class="token plain"> </span><span class="token string">&quot;employee&quot;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token keyword" style="color:#e3116c">case</span><span class="token plain"> </span><span class="token string">&quot;default&quot;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token keyword" style="color:#e3116c">fallthrough</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token keyword" style="color:#e3116c">default</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="json-schema-vocabulary-extensions"></a>JSON Schema Vocabulary Extensions<a class="hash-link" href="#json-schema-vocabulary-extensions" title="Direct link to heading">#</a></h2><p>As already explained, traits tell ORY Kratos that a particular field has a
system-relevant meaning. That would for example include:</p><ul><li>The email address for recovering a lost password</li><li>The identifier for logging in e.g. username and password or email and password</li><li>The phone number for enabling SMS 2FA</li><li>...</li></ul><p>ORY Kratos&#x27; JSON Schema Vocabulary Extension can be used within a property:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json5"><div tabindex="0" class="prism-code language-json5 codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">{</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  $id: &#x27;http://mydomain.com/schemas/v2/customer.schema.json&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  $schema: &#x27;http://json-schema.org/draft-07/schema#&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  title: &#x27;A customer (v2)&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  type: &#x27;object&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  properties: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    email: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      title: &#x27;E-Mail&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      type: &#x27;string&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      format: &#x27;email&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      // This tells ORY Kratos that the field should be used as the &quot;username&quot; for the username+password flow.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      // It is an extension to the regular JSON Schema vocabulary.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      &#x27;ory.sh/kratos&#x27;: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        credentials: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          password: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            identifier: true,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>An overview of available configuration options follows in the next sections.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="identifier-for-username-and-password-flows"></a>Identifier for Username and Password Flows<a class="hash-link" href="#identifier-for-username-and-password-flows" title="Direct link to heading">#</a></h3><p>ORY Kratos can set specific fields to be used as the <em>identifier</em> e.g. username,
email, phone number, etc., in the Username and Password Registration and Login
Flow:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json5"><div tabindex="0" class="prism-code language-json5 codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">{</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  &#x27;ory.sh/kratos&#x27;: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    credentials: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      password: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        identifier: true,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Looking at the traits from above</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token key atrule">traits</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># These are just examples</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">email</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> office@ory.sh</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">first</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> Aeneas</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token key atrule">last</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> Rekkas</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">favorite_animal</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> Dog</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  </span><span class="token key atrule">accepted_tos</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:rgb(0, 92, 197)">true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>and using a JSON Schema that uses the <code>email</code> field as the identifier for the
password flow</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json5"><div tabindex="0" class="prism-code language-json5 codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">{</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  $id: &#x27;http://mydomain.com/schemas/v2/customer.schema.json&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  $schema: &#x27;http://json-schema.org/draft-07/schema#&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  title: &#x27;A customer (v2)&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  type: &#x27;object&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  properties: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    email: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      title: &#x27;E-Mail&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      type: &#x27;string&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      format: &#x27;email&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      // This tells ORY Kratos that the field should be used as the &quot;username&quot; for the Username and Password Flow.</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      &#x27;ory.sh/kratos&#x27;: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        credentials: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          password: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            identifier: true,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    name: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      type: &#x27;object&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      properties: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        first: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          type: &#x27;string&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        last: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">          type: &#x27;string&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    favorite_animal: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      type: &#x27;string&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    accepted_tos: {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">      type: &#x27;string&#x27;,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  },</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  required: [&#x27;email&#x27;],</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">  additionalProperties: false,</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In this example, ORY Kratos understands that traits✉️ <code>office@ory.sh</code> is
the identity&#x27;s identifier. The system expects <code>office@ory.sh</code> plus a password to
sign in.</p><p><a href="/kratos/docs/v0.1/concepts/credentials#username-and-password">Username and Password Credentials</a>
contains more information and examples.</p><p>There are currently no other extensions supported for Identity Traits. Further
fields will be added in future releases!</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ory/kratos/edit/master/docs/versioned_docs/version-v0.1/concepts/identity-user-model.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-04-06T12:46:02.000Z" class="lastUpdatedDate_1WI_">4/6/2020</time> by <strong>hackerman</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/kratos/docs/v0.1/concepts/ui-user-interface"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« User Interface</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/kratos/docs/v0.1/concepts/credentials"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Credentials »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#identity-traits-and-json-schemas" class="table-of-contents__link">Identity Traits and JSON Schemas</a></li><li><a href="#json-schema-vocabulary-extensions" class="table-of-contents__link">JSON Schema Vocabulary Extensions</a><ul><li><a href="#identifier-for-username-and-password-flows" class="table-of-contents__link">Identifier for Username and Password Flows</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Company</h4><ul class="footer__items"><li class="footer__item"><a href="https://www.ory.sh/imprint" target="_blank" rel="noopener noreferrer" class="footer__link-item">Imprint</a></li><li class="footer__item"><a href="https://www.ory.sh/privacy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://www.ory.sh/tos" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a></li></ul></div></div><div class="text--center"><div>Copyright © 2021 ORY GmbH</div></div></div></footer></div>
<script src="/kratos/docs/assets/js/styles.6a51c5d5.js"></script>
<script src="/kratos/docs/assets/js/runtime~main.367d0d09.js"></script>
<script src="/kratos/docs/assets/js/main.9e51062d.js"></script>
<script src="/kratos/docs/assets/js/2.6e5ecd5e.js"></script>
<script src="/kratos/docs/assets/js/3.d017d23c.js"></script>
<script src="/kratos/docs/assets/js/b8d7c5e6.53a01579.js"></script>
<script src="/kratos/docs/assets/js/485.6de6eee3.js"></script>
<script src="/kratos/docs/assets/js/5f8a740b.8d907d27.js"></script>
<script src="/kratos/docs/assets/js/17896441.d4b583b0.js"></script>
<script src="/kratos/docs/assets/js/57d309c1.b0511cff.js"></script>
<noscript><p><img src="//sqa-web.ory.sh/np.php?idsite=2&amp;rec=1" style="border:0;" alt=""></p></noscript></body>
</html>